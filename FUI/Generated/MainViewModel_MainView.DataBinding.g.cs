//This file was generated by FUICompiler
//The purpose is to achieve binding functionality
//FUICompiler:https://github.com/fujisheng/FUICompiler.git
//FUI:https://github.com/fujisheng/FUI.git
//If you have any questions, please raise them on GitHub
using FUI;
using FUI.Test;
using FUI.UGUI.Control;
using System.Threading.Tasks;
using UnityEngine;

namespace Test.Sub
{
    [FUI.ViewModelAttribute(typeof(MainViewModel))]
    [FUI.ViewAttribute("MainView")]
    public class __MainViewModel_MainView_Binding_Generated : FUI.BindingContext
    {
        public __MainViewModel_MainView_Binding_Generated(FUI.IView view, FUI.Bindable.ObservableObject viewModel) : base(view, viewModel)
        {
        }

        protected override void Binding()
        {
            if (this.ViewModel is MainViewModel MainViewModel)
            {
                MainViewModel._Titile_Changed += PropertyChanged__MainViewModel_Titile__txt_title_FUI_UGUI_Control_TextElement_Text;
                MainViewModel._SubViewModel_Changed += PropertyChanged__MainViewModel_SubViewModel__CurrencyView_FUI_UGUI_Control_ViewElement_Data;
                MainViewModel._ButtonText_Changed += PropertyChanged__MainViewModel_ButtonText__btn_test_FUI_UGUI_Control_ButtonElement_TextValue;
                return;
            }
        }

        protected override void Unbinding()
        {
            if (this.ViewModel is MainViewModel MainViewModel)
            {
                MainViewModel._Titile_Changed -= PropertyChanged__MainViewModel_Titile__txt_title_FUI_UGUI_Control_TextElement_Text;
                MainViewModel._SubViewModel_Changed -= PropertyChanged__MainViewModel_SubViewModel__CurrencyView_FUI_UGUI_Control_ViewElement_Data;
                MainViewModel._ButtonText_Changed -= PropertyChanged__MainViewModel_ButtonText__btn_test_FUI_UGUI_Control_ButtonElement_TextValue;
                return;
            }
        }

        void PropertyChanged__MainViewModel_Titile__txt_title_FUI_UGUI_Control_TextElement_Text(object sender, string preValue, string @value)
        {
            var convertedValue = @value;
            var element = FUI.Extensions.ViewExtensions.GetElement<FUI.UGUI.Control.TextElement>(this.View, @"txt_title");
            element.Text?.SetValue(convertedValue);
        }

        void PropertyChanged__MainViewModel_SubViewModel__CurrencyView_FUI_UGUI_Control_ViewElement_Data(object sender, SubViewModel preValue, SubViewModel @value)
        {
            var convertedValue = @value;
            var element = FUI.Extensions.ViewExtensions.GetElement<FUI.UGUI.Control.ViewElement>(this.View, @"CurrencyView");
            element.Data?.SetValue(convertedValue);
        }

        void PropertyChanged__MainViewModel_ButtonText__btn_test_FUI_UGUI_Control_ButtonElement_TextValue(object sender, string preValue, string @value)
        {
            var convertedValue = @value;
            var element = FUI.Extensions.ViewExtensions.GetElement<FUI.UGUI.Control.ButtonElement>(this.View, @"btn_test");
            element.TextValue?.SetValue(convertedValue);
        }
    }
}