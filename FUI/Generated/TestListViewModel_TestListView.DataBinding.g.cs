//This file was generated by FUICompiler
//The purpose is to achieve binding functionality
//FUICompiler:https://github.com/fujisheng/FUICompiler.git
//FUI:https://github.com/fujisheng/FUI.git
//If you have any questions, please raise them on GitHub
using FUI;
using FUI.Bindable;
using FUI.Test;
using FUI.UGUI;
using FUI.UGUI.Control;
using UnityEngine;

namespace Test.List
{
    [FUI.ViewModelAttribute(typeof(TestListViewModel))]
    [FUI.ViewAttribute("TestListView")]
    public class __TestListViewModel_TestListView_Binding_Generated : FUI.BindingContext
    {
        public __TestListViewModel_TestListView_Binding_Generated(FUI.IView view, FUI.Bindable.ObservableObject viewModel) : base(view, viewModel)
        {
        }

        protected override void Binding()
        {
            if (this.ViewModel is TestListViewModel TestListViewModel)
            {
                TestListViewModel._List_Changed += PropertyChanged__TestListViewModel_List__ScrollView_FUI_UGUI_Control_ScrollRectElement_List;
                BindingCommand__TestListViewModel_OnClickAddItem__btn_Add_ButtonElement_OnClick(TestListViewModel);
                BindingCommand__TestListViewModel_OnClickRemoveItem__btn_Remove_ButtonElement_OnClick(TestListViewModel);
                return;
            }
        }

        protected override void Unbinding()
        {
            if (this.ViewModel is TestListViewModel TestListViewModel)
            {
                TestListViewModel._List_Changed -= PropertyChanged__TestListViewModel_List__ScrollView_FUI_UGUI_Control_ScrollRectElement_List;
                FUI.Extensions.BindingContextExtensions.UnbindingList<FUI.UGUI.Control.ScrollRectElement>(this, TestListViewModel.List, @"Scroll View");
                UnbindingCommand__TestListViewModel_OnClickAddItem__btn_Add_ButtonElement_OnClick(TestListViewModel);
                UnbindingCommand__TestListViewModel_OnClickRemoveItem__btn_Remove_ButtonElement_OnClick(TestListViewModel);
                return;
            }
        }

        void PropertyChanged__TestListViewModel_List__ScrollView_FUI_UGUI_Control_ScrollRectElement_List(object sender, ObservableList<TestListItemViewModel> preValue, ObservableList<TestListItemViewModel> @value)
        {
            var convertedValue = @value;
            var element = FUI.Extensions.ViewExtensions.GetElement<FUI.UGUI.Control.ScrollRectElement>(this.View, @"Scroll View");
            FUI.Extensions.BindingContextExtensions.BindingList<FUI.UGUI.Control.ScrollRectElement>(element, preValue, @value);
            element.List?.SetValue(convertedValue);
        }

        void BindingCommand__TestListViewModel_OnClickAddItem__btn_Add_ButtonElement_OnClick(TestListViewModel TestListViewModel)
        {
            var element = FUI.Extensions.ViewExtensions.GetElement<ButtonElement>(this.View, "btn_Add");
            element.OnClick?.AddListener(TestListViewModel.OnClickAddItem);
        }

        void UnbindingCommand__TestListViewModel_OnClickAddItem__btn_Add_ButtonElement_OnClick(TestListViewModel TestListViewModel)
        {
            var element = FUI.Extensions.ViewExtensions.GetElement<ButtonElement>(this.View, "btn_Add");
            element.OnClick?.RemoveListener(TestListViewModel.OnClickAddItem);
        }

        void BindingCommand__TestListViewModel_OnClickRemoveItem__btn_Remove_ButtonElement_OnClick(TestListViewModel TestListViewModel)
        {
            var element = FUI.Extensions.ViewExtensions.GetElement<ButtonElement>(this.View, "btn_Remove");
            element.OnClick?.AddListener(TestListViewModel.OnClickRemoveItem);
        }

        void UnbindingCommand__TestListViewModel_OnClickRemoveItem__btn_Remove_ButtonElement_OnClick(TestListViewModel TestListViewModel)
        {
            var element = FUI.Extensions.ViewExtensions.GetElement<ButtonElement>(this.View, "btn_Remove");
            element.OnClick?.RemoveListener(TestListViewModel.OnClickRemoveItem);
        }
    }
}